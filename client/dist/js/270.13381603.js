"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[270],{53237:function(e,t,i){i.d(t,{Z:function(){return o}});var s=i(55648),r=i(14981),n=i(6505),a=i(73325),o=(0,a.Z)(r.Z,n.Z,s.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...n.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...s.Z.options.computed.classes.call(this)}},styles(){const e={...s.Z.options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=r.Z.options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},37118:function(e,t,i){i.d(t,{EB:function(){return l},ZB:function(){return o},h7:function(){return n}});var s=i(53237),r=i(4589);const n=(0,r.Ji)("v-card__actions"),a=(0,r.Ji)("v-card__subtitle"),o=(0,r.Ji)("v-card__text"),l=(0,r.Ji)("v-card__title");s.Z},4497:function(e,t,i){i.d(t,{Z:function(){return v}});i(26699);var s=i(43242),r=i(25795),n=i(65907),a=i(83944),o=i(90390),l=i(60423),c=i(95703),u=i(45600),d=i(73325),h=i(71824),p=i(4589);const m=(0,d.Z)(n.Z,a.Z,o.Z,l.Z,c.Z,r.Z);var v=m.extend({name:"v-dialog",directives:{ClickOutside:u.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(t=this.previousActiveElement)||t.focus())},fullscreen(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,h.Jk)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(e){const t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):o.Z.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{this.$refs.content.contains(document.activeElement)||(this.previousActiveElement=document.activeElement,this.$refs.content.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(e){if(e.keyCode===p.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const e=this.getActivator();this.$nextTick((()=>e&&e.focus()))}this.$emit("keydown",e)},onFocusin(e){if(!e||!this.retainFocus)return;const t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((e=>e.contains(t)))){const e=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=[...e].find((e=>!e.hasAttribute("disabled")));t&&t.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(s.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog",tabindex:this.isActive?0:void 0,"aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent(){const e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style={...e.style,maxWidth:(0,p.kb)(this.maxWidth),width:(0,p.kb)(this.width)}),this.$createElement("div",e,this.getContentSlot())}},render(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},82102:function(e,t,i){i(26699),i(17273);var s=i(20144),r=i(76290),n=i(4589);const a=["sm","md","lg","xl"],o=(()=>a.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),l=(()=>a.reduce(((e,t)=>(e["offset"+(0,n.jC)(t)]={type:[String,Number],default:null},e)),{}))(),c=(()=>a.reduce(((e,t)=>(e["order"+(0,n.jC)(t)]={type:[String,Number],default:null},e)),{}))(),u={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function d(e,t,i){let s=e;if(null!=i&&!1!==i){if(t){const i=t.replace(e,"");s+=`-${i}`}return"col"!==e||""!==i&&!0!==i?(s+=`-${i}`,s.toLowerCase()):s.toLowerCase()}}const h=new Map;t["Z"]=s.Z.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:i,children:s,parent:n}){let a="";for(const r in t)a+=String(t[r]);let o=h.get(a);if(!o){let e;for(e in o=[],u)u[e].forEach((i=>{const s=t[i],r=d(e,i,s);r&&o.push(r)}));const i=o.some((e=>e.startsWith("col-")));o.push({col:!i||!t.cols,[`col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),h.set(a,o)}return e(t.tag,(0,r.ZP)(i,{class:o}),s)}})},62877:function(e,t,i){i(26699),i(17273);var s=i(20144),r=i(76290),n=i(4589);const a=["sm","md","lg","xl"],o=["start","end","center"];function l(e,t){return a.reduce(((i,s)=>(i[e+(0,n.jC)(s)]=t(),i)),{})}const c=e=>[...o,"baseline","stretch"].includes(e),u=l("align",(()=>({type:String,default:null,validator:c}))),d=e=>[...o,"space-between","space-around"].includes(e),h=l("justify",(()=>({type:String,default:null,validator:d}))),p=e=>[...o,"space-between","space-around","stretch"].includes(e),m=l("alignContent",(()=>({type:String,default:null,validator:p}))),v={align:Object.keys(u),justify:Object.keys(h),alignContent:Object.keys(m)},g={align:"align",justify:"justify",alignContent:"align-content"};function f(e,t,i){let s=g[e];if(null!=i){if(t){const i=t.replace(e,"");s+=`-${i}`}return s+=`-${i}`,s.toLowerCase()}}const b=new Map;t["Z"]=s.Z.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...h,alignContent:{type:String,default:null,validator:p},...m},render(e,{props:t,data:i,children:s}){let n="";for(const r in t)n+=String(t[r]);let a=b.get(n);if(!a){let e;for(e in a=[],v)v[e].forEach((i=>{const s=t[i],r=f(e,i,s);r&&a.push(r)}));a.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),b.set(n,a)}return e(t.tag,(0,r.ZP)(i,{staticClass:"row",class:a}),s)}})},57003:function(e,t,i){i.d(t,{Z:function(){return h}});var s=i(85827),r=i(68083),n=i(46952),a=i(93536),o=i(41431),l=i(48085),c=i(4589),u=i(73325);const d=(0,u.Z)(n.Z,(0,a.d)(["absolute","fixed","top","bottom"]),o.Z,l.Z);var h=d.extend({name:"v-progress-linear",directives:{intersect:r.Z},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:(0,c.kb)(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:(0,c.kb)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:e,[this.isReversed?"right":"left"]:(0,c.kb)(this.normalizedValue,"%"),width:(0,c.kb)(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?s.Z5:s.Qn},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=(0,c.kb)(this.normalizedBuffer,"%")),e}},methods:{genContent(){const e=(0,c.z9)(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners(){const e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[e]:!0}}))},onClick(e){if(!this.reactive)return;const{width:t}=this.$el.getBoundingClientRect();this.internalValue=e.offsetX/t*100},onObserve(e,t,i){this.isVisible=i},normalize(e){return e<0?0:e>100?100:parseFloat(e)}},render(e){const t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?(0,c.kb)(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}})},67420:function(e,t,i){var s=i(57003);t["Z"]=s.Z},43242:function(e,t,i){var s=i(48085);t["Z"]=s.Z.extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:s.Z.options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find((e=>!e.isComment&&" "!==e.text))}})},14981:function(e,t,i){var s=i(20144),r=i(67420);t["Z"]=s.Z.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(r.Z,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},60423:function(e,t,i){var s=i(20144);t["Z"]=s.Z.extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(e){this.originalValue=e,setTimeout((()=>{this.isActive=!1}))}}})},48941:function(e,t,i){i.d(t,{O:function(){return s},r:function(){return r}});const s=async e=>{var t,i,s=[],r="Nuevo proceso",n=1,a=!0,o=!1;return void 0!=e.materia_prima&&(r="Siguiente proceso: Extracción Del Mosto",n=2,t=e.materia_prima,t.id_proceso=e._id,a=t.aprobado,i=`\n        Nro cosecha: ${t.nro_cosecha}<br>\n        Lugar de procedencia: ${t.lugar_procedencia}<br>\n        Nombre del propietario: ${t.nombre_propietario}<br>\n        Grados brix: ${t.gadros_brix} gramos<br>\n        `,s.push({color:"#50C87C",icon:"mdi-car-estate",nombre:"Materia prima",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:1})),void 0!=e.extraccion&&(r="Siguiente proceso: Pasteurización",n=3,t=e.extraccion,t.id_proceso=e._id,a=t.aprobado,i=`Tipo: ${t.tipo}`,s.push({color:"#0092D3",icon:"mdi-glass-tulip",nombre:"Extración del mosto",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:2})),void 0!=e.pasteurizacion&&(r="Siguiente proceso: Fermentación",n=4,t=e.pasteurizacion,t.id_proceso=e._id,a=t.aprobado,i=`\n        Temperatura caliente: ${t.temperatura_caliente} °C<br>\n        Temperatura fria: ${t.temperatura_fria} °C<br>\n        Tiempo proceso: ${t.tiempo_proceso} min<br>\n        `,s.push({color:"#00D3AF",icon:"mdi-book-variant",nombre:"Pasteurización del mosto",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:3})),void 0!=e.fermentacion&&(r="Siguiente proceso: Clarificación",n=5,t=e.fermentacion,t.id_proceso=e._id,a=t.aprobado,i=`\n        Fecha inicio: ${new Date(t.fecha_inicio).toLocaleString()}<br>\n        Fecha fin: ${new Date(t.fecha_final).toLocaleString()}<br>\n        Grados invertidos: ${t.grados_invertidos} %<br>\n      `,s.push({color:"#D3BD00",icon:"mdi-cup",nombre:"Fermentación",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:4})),void 0!=e.clarificacion&&(r="Siguiente proceso: Trasiego",n=6,t=e.clarificacion,t.id_proceso=e._id,a=t.aprobado,i=`\n        Turbidez: ${t.turbidez} ppm<br>\n      `,s.push({color:"#6EBAFC",icon:"mdi-cup-water",nombre:"Clarificación",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:5})),void 0!=e.trasiego&&(r="Siguiente proceso: Envasado",n=7,t=e.trasiego,t.id_proceso=e._id,a=t.aprobado,i=`\n        Liquído claro: ${t.liquido_claro}%<br>\n        Liquído oscuro: ${t.liquido_oscuro}%<br>\n      `,s.push({color:"#FE7840",icon:"mdi-glass-tulip",nombre:"Trasiego",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:6})),void 0!=e.envasado&&(r="Procesos completados",n=8,t=e.envasado,t.id_proceso=e._id,a=t.aprobado,o=t.aprobado,i=`\n        Nro. Lote: ${t.nro_lote}<br>\n        Nro. Botellas producidas: ${t.nro_botellas}<br>\n        Nro. Botellas especiales: ${t.nro_botellas_especiales}<br>\n      `,s.push({color:"#500617",icon:"mdi-barcode-scan",nombre:"Envasado",informacion:i,fecha_creacion:new Date(t.createdAt).toLocaleString(),model:t,index:7})),s=s.reverse(),{nombre_proceso:r,n_proceso:n,items:s,siguiente_proceso:a,proceso:e,esta_completado:o}},r=e=>{e.createdAt=new Date(e.createdAt).toLocaleDateString();var t=[];try{e.permisos=JSON.parse(e.permisos)}catch(s){console.log("")}e.permisos.forEach((e=>{1==e&&t.push(" Materia prima"),2==e&&t.push(" Extracción del mosto"),3==e&&t.push(" Pasteurización"),4==e&&t.push(" Fermentación"),5==e&&t.push(" Clarificación"),6==e&&t.push(" Trasiego"),7==e&&t.push(" Envasado"),8==e&&t.push(" Vendedor")})),e.permisos_array=t;var i="";return e.permisos_array.forEach(((t,s)=>{i+=t,s+1!=e.permisos_array.length&&(i+=",")})),e.permisos_str=i,1==e.rol&&(e.rol_str="Administración"),2==e.rol&&(e.rol_str="Empleado"),3==e.rol&&(e.rol_str="Vendedor"),e}},66445:function(e,t,i){i.r(t),i.d(t,{default:function(){return U}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"container"},[i("v-container",{staticClass:"margin"},[i("v-card",[void 0!=e.miUsuario&&1==e.miUsuario.rol?i("div",[i("v-card-title",[i("h1",[e._v("Usuarios")]),i("v-spacer"),i("v-btn",{staticStyle:{"margin-right":"2%"},attrs:{dark:"",color:"primary_app","x-large":""},on:{click:function(t){return e.nuevoUsuarioDialog(-1)}}},[i("v-icon",{attrs:{left:"",large:""}},[e._v(" mdi-account-plus ")]),e._v(" Nuevo Usuario ")],1),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),i("v-data-table",{attrs:{headers:e.headers,items:e.usuarios,search:e.search},scopedSlots:e._u([{key:"item.accion",fn:function(t){var s=t.item;return[i("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[i("v-icon",e._g(e._b({attrs:{color:"primary"}},"v-icon",r,!1),s),[e._v(" mdi-dots-vertical ")])]}}],null,!0)},[i("v-list",[i("v-list-item-group",[i("v-list-item",{on:{click:function(t){return e.nuevoUsuarioDialog(s)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("mdi-pencil")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("Editar")}})],1)],1),i("v-list-item",{on:{click:function(t){return e.eliminarUsuario(s._id)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("mdi-close")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("Eliminar")}})],1)],1)],1)],1)],1)]}}],null,!0)},[e._v("> ")]),i("v-dialog",{attrs:{persistent:""},model:{value:e.dialog_usuario,callback:function(t){e.dialog_usuario=t},expression:"dialog_usuario"}},[i("v-card",{staticStyle:{padding:"20px"}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Nombres",placeholder:"Ingrese los nombres del usuario",outlined:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),i("v-text-field",{attrs:{label:"Billetera",placeholder:"Ingrese la billetera",outlined:""},model:{value:e.billetera,callback:function(t){e.billetera=t},expression:"billetera"}}),i("v-select",{attrs:{items:e.tipo_roles,"item-text":"txt","item-value":"val",label:"Rol",outlined:""},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1),i("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[i("v-row",e._l(e.tipo_permisos,(function(t,s){return i("v-col",{key:s,attrs:{cols:"6",sm:"6",md:"3"}},[i("v-checkbox",{attrs:{label:t.txt,value:t.val},model:{value:e.permisos,callback:function(t){e.permisos=t},expression:"permisos"}})],1)})),1)],1)],1)],1),i("center",[i("v-btn",{attrs:{dark:"",color:"secondary_app"},on:{click:function(t){return e.crearUsuario()}}},[e._v(" Guardar ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog_usuario=!1}}},[e._v(" Salir ")])],1)],1)],1)],1):i("div",[i("v-card-title",[i("h6",[e._v("No tienes permiso para esta funciones")])])],1)])],1)],1)},r=[],n=i(65631),a=i(48941),o=i(22893),l={name:"Usuarios_Administracion_",components:{},data:()=>({search:"",headers:[{text:"Fecha",sortable:!1,value:"createdAt"},{text:"Nombres",sortable:!1,value:"nombre"},{text:"Billetera",sortable:!1,value:"billetera"},{text:"Rol",sortable:!1,value:"rol_str"},{text:"Permisos",sortable:!1,value:"permisos_array"},{text:"Acción",sortable:!1,value:"accion"}],miUsuario:void 0,usuarios:[],id_usuario:-1,dialog_usuario:!1,nombre:null,billetera:null,rol:1,tipo_roles:[{txt:"Administración",val:1},{txt:"Empleado",val:2},{txt:"Vendedor",val:3}],permisos:[],tipo_permisos:[{txt:"Materia pima",val:1},{txt:"Extracción del mosto",val:2},{txt:"Pasteurización",val:3},{txt:"Fermentación",val:4},{txt:"Clarificación",val:5},{txt:"Trasiego",val:6},{txt:"Envasado",val:7},{txt:"Vendedor",val:8}]}),methods:{async crearUsuario(){var e={};e.rol=1*this.rol,e.nombre=this.nombre,e.billetera=this.billetera,e.permisos=this.permisos,-1!=this.id_usuario&&(e.id_usuario=this.id_usuario),n.Z.crear_editar_usuario(e,(async e=>{this.dialog_usuario=!1,this.$toast.open({message:e.mensaje,type:e.tipo,duration:5e3,position:"top-right",pauseOnHover:!0}),"success"==e.tipo&&this.listarUsuarios()}))},async encontrarMiUsuario(){try{this.miUsuario=await(0,o.Z)()}catch(e){console.log(e)}},async eliminarUsuario(e){n.Z.eliminar_usuario(e,(async e=>{this.$toast.open({message:e.mensaje,type:e.tipo,duration:5e3,position:"top-right",pauseOnHover:!0}),"success"==e.tipo&&this.listarUsuarios()}))},async nuevoUsuarioDialog(e){-1==e?(this.id_usuario=e,this.rol=1,this.nombre=null,this.billetera=null,this.permisos=[]):(this.id_usuario=e._id,this.rol=1*e.rol,this.nombre=e.nombre,this.billetera=e.billetera,this.permisos=e.permisos),this.dialog_usuario=!0},async listarUsuarios(){n.Z.listar_usuario((async e=>{"success"==e.tipo&&(this.usuarios=[],e.data.usuarios.forEach((e=>{this.usuarios.push((0,a.r)(e))})))}))}},async mounted(){this.listarUsuarios(),this.encontrarMiUsuario()}},c=l,u=i(1001),d=i(43453),h=i.n(d),p=i(680),m=i(53237),v=i(37118),g=i(69798),f=i(58230),b=i(46286),_=i(20144),y=_.Z.extend({name:"rippleable",directives:{ripple:b.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),k=i(34419),x=i(73325);function C(e){e.preventDefault()}var S=(0,x.Z)(f.Z,y,k.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=f.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:C},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:C},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),$=S.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...f.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(g.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),Z=i(82102),B=i(4228),w=i(76277),V=i(4497),A=i(96428),E=i(16816),I=i(97620),D=i(17044),L=i(73123),T=i(10459),O=i(41152),z=i(62877),N=i(47032),F=i(99762),j=i(55978),P=(0,u.Z)(c,s,r,!1,null,"32494940",null),U=P.exports;h()(P,{VBtn:p.Z,VCard:m.Z,VCardTitle:v.EB,VCheckbox:$,VCol:Z.Z,VContainer:B.Z,VDataTable:w.Z,VDialog:V.Z,VIcon:A.Z,VList:E.Z,VListItem:I.Z,VListItemContent:D.km,VListItemGroup:L.Z,VListItemIcon:T.Z,VListItemTitle:D.V9,VMenu:O.Z,VRow:z.Z,VSelect:N.Z,VSpacer:F.Z,VTextField:j.Z})}}]);
//# sourceMappingURL=270.13381603.js.map