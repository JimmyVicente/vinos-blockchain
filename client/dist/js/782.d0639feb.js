"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[782],{11418:function(t,e,a){a.d(e,{Z:function(){return s}});var o=a(48085),s=o.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},99762:function(t,e,a){a(68582);var o=a(4589);e["Z"]=(0,o.Ji)("spacer","div","v-spacer")},49301:function(t,e,a){a.r(e),a.d(e,{default:function(){return A}});var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"container"},[o("v-container",{staticClass:"margin"},[o("v-card",[o("h4",[t._v("Lote: "+t._s(void 0!=t.proceso.envasado?t.proceso.envasado.nro_lote:"Cargando.."))]),o("h5",[t._v("Nro. Botellas producidas: "+t._s(void 0!=t.proceso.envasado?t.proceso.envasado.nro_botellas:"Cargando..")+" ")]),o("v-card-title",[o("h6",[t._v("Nro. Botellas especiales: "+t._s(t.botellas.length))]),o("v-spacer"),o("h6",[t._v("Nro. Botellas vendidas: "+t._s(t.getBotellasVendidas()))]),o("v-spacer"),o("h6",[t._v("Nro. Tokens asignados: "+t._s(t.getTokensAsignados()))]),o("v-spacer"),o("v-btn",{attrs:{color:"green",outlined:""},on:{click:function(e){return t.generarPdf()}}},[t._v(" Imprimir "),o("v-btn",{attrs:{icon:"",color:"green"}},[o("v-icon",[t._v("mdi-cloud-print-outline")])],1)],1)],1),o("v-divider"),o("v-container",[o("v-container",{staticClass:"fill-height",staticStyle:{"min-height":"434px"},attrs:{fluid:""}},[o("v-fade-transition",{attrs:{mode:"out-in"}},[o("v-row",t._l(t.botellas,(function(e,s){return o("v-col",{key:s,staticClass:"d-flex align-content-end flex-wrap",attrs:{cols:"12",sm:"12",md:"3"}},[o("v-card",{staticStyle:{padding:"10px"},on:{click:function(a){return t.encontrarBotella(e.botella)}}},[o("center",[o("v-img",{staticStyle:{"align-items":"center"},attrs:{src:a(42834),"max-width":"60"}},[o("vue-qr",{staticClass:"vue-qr",staticStyle:{"margin-top":"30px"},attrs:{text:t.path_qr+e.botella._id,size:50}})],1)],1),o("br"),t._v(" Nro botella: "+t._s(s+1)+" "),o("div",{staticStyle:{"font-size":"12px"}},[t._v(" Hash: 0x"+t._s(e.botella._id))]),o("div",{staticStyle:{"font-size":"10px"}},[1==e.botella.estados.length?o("div",[o("em",{staticStyle:{color:"red"}},[t._v(t._s(e.botella.estados[0].estado))])]):t._e(),2==e.botella.estados.length?o("div",[o("em",{staticStyle:{color:"red"}},[t._v(t._s(e.botella.estados[0].estado))]),t._v(", "),o("em",{staticStyle:{color:"green"}},[t._v(t._s(e.botella.estados[1].estado))])]):t._e(),3==e.botella.estados.length?o("div",[o("em",{staticStyle:{color:"red"}},[t._v(t._s(e.botella.estados[0].estado))]),t._v(", "),o("em",{staticStyle:{color:"green"}},[t._v(t._s(e.botella.estados[1].estado))]),t._v(", "),o("em",{staticStyle:{color:"orange"}},[t._v(t._s(e.botella.estados[2].estado))])]):t._e()])],1)],1)})),1)],1)],1),o("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:t.dialog_item,callback:function(e){t.dialog_item=e},expression:"dialog_item"}},[o("v-card",{staticStyle:{padding:"20px"}},[o("v-card-text",[o("InfoBotella",{attrs:{items:t.items,botella:t.botella,proceso:t.proceso,tipo:0},on:{"update:botella":function(e){t.botella=e}}})],1),o("br"),o("br"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{dark:"",color:"secondary_app"},on:{click:function(e){t.dialog_item=!1}}},[t._v(" CERRAR ")])],1)],1)],1),o("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!1,"preview-modal":!0,filename:"Qr de botellas ","pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"800px"}},[o("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[o("ImprimirQr",{attrs:{proceso:t.proceso,botellas:t.botellas}})],1)])],1)],1)],1),o("CargandoVista",{attrs:{cargando_tipo:t.cargando_tipo}})],1)},s=[],r=a(84588),l=a.n(r),i=a(32074),n=a(10951),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("v-card",[a("v-card-title",[a("h6",[t._v("Lote: "+t._s(void 0!=t.proceso.envasado?t.proceso.envasado.nro_lote:""))]),a("v-spacer"),a("h6",[t._v("Nro. Botellas especiales: "+t._s(t.botellas.length))]),a("v-spacer"),a("h6",[t._v("Nro. Botellas producidas: "+t._s(void 0!=t.proceso.envasado?t.proceso.envasado.nro_botellas:"")+" ")])],1),a("v-divider"),a("v-container",t._l(t.botellas,(function(e,o){return a("div",{key:o},[a("table",[o%4==0?a("tr",[a("td",[a("center",[a("vue-qr",{staticClass:"vue-qr",attrs:{text:t.path_qr+t.botellas[o].botella._id,size:190}})],1)],1),o+1<t.botellas.length?a("td",[a("center",[a("vue-qr",{staticClass:"vue-qr",attrs:{text:t.path_qr+t.botellas[o+1].botella._id,size:190}})],1)],1):t._e(),o+2<t.botellas.length?a("td",[a("center",[a("vue-qr",{staticClass:"vue-qr",attrs:{text:t.path_qr+t.botellas[o+2].botella._id,size:190}})],1)],1):t._e(),o+3<t.botellas.length?a("td",[a("center",[a("vue-qr",{staticClass:"vue-qr",attrs:{text:t.path_qr+t.botellas[o+3].botella._id,size:190}})],1)],1):t._e()]):t._e()]),(o+1)%20==0&&o+1!=t.botellas.length?a("div",[a("div",{staticStyle:{display:"block","page-break-before":"always"}}),a("br")]):t._e()])})),0)],1)],1)},d=[],v=a(82065),p={name:"imprimirQr",components:{VueQr:l()},data:()=>({path_qr:""}),props:{proceso:[Object],botellas:[Array]},methods:{},async mounted(){this.path_qr=v.Z.path_qr}},h=p,_=a(1001),u=a(43453),g=a.n(u),b=a(53237),m=a(37118),f=a(4228),y=a(11418),Z=a(99762),C=(0,_.Z)(h,c,d,!1,null,"4546eefa",null),V=C.exports;g()(C,{VCard:b.Z,VCardTitle:m.EB,VContainer:f.Z,VDivider:y.Z,VSpacer:Z.Z});var q=a(54637),x=a(22893),B=a(48941),S=a(26702),k={name:"Botellas_Envasado",components:{VueQr:l(),VueHtml2pdf:i.Z,InfoBotella:n.Z,CargandoVista:q.Z,ImprimirQr:V},data:()=>({dialog_item:!1,items:[],botella:null,proceso:{},botellas:[],path_qr:"",cargando_tipo:!1,usuario:{}}),props:{hash:[String]},methods:{generarPdf(){this.$refs.html2Pdf.generatePdf()},getBotellasVendidas(){var t=this.botellas.filter((t=>t.botella.estados.length>1));return t.length},getTokensAsignados(){var t=this.botellas.filter((t=>t.botella.estados.length>2));return t.length},async encontrarBotella(t){try{this.botella=t,this.dialog_item=!0}catch(e){this.$toast.open({message:"Error al generar botella",type:"error",duration:5e3,position:"top-right",pauseOnHover:!0})}},async listaBotellas(t){this.cargando_tipo=!0,S.Z.listar_botella(t,(async t=>{"success"==t.tipo?this.botellas=t.data.botellas:this.$toast.open({message:t.mensaje,type:t.tipo,duration:5e3,position:"top-right",pauseOnHover:!0}),this.cargando_tipo=!1}))},async generarProceso(t){S.Z.encontrar_proceso(t,(async t=>{if("success"==t.tipo){var e=await(0,B.O)(t.data);this.items=e.items.reverse(),this.proceso=e.proceso}else this.$toast.open({message:t.mensaje,type:t.tipo,duration:5e3,position:"top-right",pauseOnHover:!0})}))}},async mounted(){this.generarProceso(this.hash),this.listaBotellas(this.hash),this.path_qr=v.Z.path_qr;try{this.usuario=await(0,x.Z)()??{}}catch(t){console.log(t)}}},w=k,$=a(680),z=a(82102),E=a(4497),I=a(85827),N=a(96428),P=a(97047),T=a(62877),Q=(0,_.Z)(w,o,s,!1,null,"29475ea0",null),A=Q.exports;g()(Q,{VBtn:$.Z,VCard:b.Z,VCardActions:m.h7,VCardText:m.ZB,VCardTitle:m.EB,VCol:z.Z,VContainer:f.Z,VDialog:E.Z,VDivider:y.Z,VFadeTransition:I.Z5,VIcon:N.Z,VImg:P.Z,VRow:T.Z,VSpacer:Z.Z})}}]);
//# sourceMappingURL=782.d0639feb.js.map